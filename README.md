# refatorar

- adicionar joi nas rotas
- adicionar banco postgres
- adicionar repository patern
- remover factory de repository
- remover o que não precisa ser classe

- criar services das controllers
- adicionar na controller o padrão (index: listar, show: somente um, create, update e delete)

- abstração do meu repositorio ficou uma merda

- não filtra se não tiver query string no points

# knex cli

- rodar migrations - espelho do banco
- rodar seeders - dados iniciais

# validador alternativo do joi

- celebrate ele tem um error
  `app.use(error())
